{% extends 'Utilisateurs/utilisateursLayout.html.twig' %}
{% block page %}
    <style>
        #map {
            height: 400px;
            width: 100%;
        }
    </style>
    <h1>{{ bar.name }}</h1>
    <h4>Descriptif : </h4>
    <table>
        <tbody>
{#            <tr>
                <th>Bar_id</th>
                <td>{{ bar.id }}</td>
            </tr>#}
{#            <tr>
                <th>Name</th>
                <td>{{ bar.name }}</td>
            </tr>#}
{#            <tr>
                <th>Ville</th>
                <td>{{ bar.ville }}</td>
            </tr>#}
        </tbody>
    </table>
    <h2>Horaires : </h2>
    <table class = "table table-bordered">
        <thead>
        <tr>
            <th>Jour</th>
            <th>Heures</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>Lundi</td>
            <td>8h-12h</td>
        </tr>
        <tr>
            <td>Mardi</td>
            <td>8h-12h</td>
        </tr>
        </tbody>
    </table>
    <h3>Plan : </h3>
    <script>
        var geocoder;
        var map;
        function initialize() {
            geocoder = new google.maps.Geocoder();
            var latlng = new google.maps.LatLng(-34.397, 150.644);
            var mapOptions = {
                zoom: 10,
                center: latlng
            }
            map = new google.maps.Map(document.getElementById("map"), mapOptions);
        }

        function codeAddress() {
            var address = document.getElementById("address").value;
            geocoder.geocode( { 'address': address}, function(results, status) {
                if (status == google.maps.GeocoderStatus.OK) {
                    map.setCenter(results[0].geometry.location);
                    var marker = new google.maps.Marker({
                        map: map,
                        position: results[0].geometry.location
                    });
                } else {
                    alert("Geocode was not successful for the following reason: " + status);
                }
            });
        }

    </script>
    <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCCjQF0jXVa3CpSscQuUMAwn_LbcGGdfDM&callback=initMap">
    </script>
    <body onload="initialize(); codeAddress()">
    <div id="map" style="height: 480px;"></div>
    <div>
        <input disabled id="address" type="textbox" value={{ bar.ville }}>
        {#<input type="button" value="Encode" onclick="codeAddress()">#}
    </div>
    </body>
    <ul>
        <li>
            <a class="btn btn-info" role="button" href="{{ path('bar_index') }}">Back to the list</a>
        </li>
        </br>
        <li>
            <a class="btn btn-info" role="button" href="{{ path('bar_edit', { 'id': bar.id }) }}">Edit</a>
        </li>
        </br>
        <li>
            {{ form_start(delete_form) }}
                <input class="btn btn-danger" role="button" type="submit" value="Delete">
            {{ form_end(delete_form) }}
        </li>
    </ul>
{% endblock %}
